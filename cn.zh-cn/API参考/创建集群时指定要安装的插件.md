# 创建集群时指定要安装的插件<a name="cce_02_0365"></a>

创建集群时，可在请求Body体中metadata字段的annotations中添加键值对，Key为**cluster.install.addons/install**，Value为AddonTemplate的json列表字符串。

**表 1**  Value数据结构说明

<a name="table7778152632815"></a>
<table><thead align="left"><tr id="row78747264281"><th class="cellrowborder" valign="top" width="20.202020202020204%" id="mcps1.2.5.1.1"><p id="p143013505449"><a name="p143013505449"></a><a name="p143013505449"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="13.13131313131313%" id="mcps1.2.5.1.2"><p id="p203011950114415"><a name="p203011950114415"></a><a name="p203011950114415"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="27.27272727272727%" id="mcps1.2.5.1.3"><p id="p73011502441"><a name="p73011502441"></a><a name="p73011502441"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="39.39393939393939%" id="mcps1.2.5.1.4"><p id="p113011750114410"><a name="p113011750114410"></a><a name="p113011750114410"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row128752026102811"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.5.1.1 "><p id="p138751626152813"><a name="p138751626152813"></a><a name="p138751626152813"></a>Value</p>
</td>
<td class="cellrowborder" valign="top" width="13.13131313131313%" headers="mcps1.2.5.1.2 "><p id="p387514268283"><a name="p387514268283"></a><a name="p387514268283"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="27.27272727272727%" headers="mcps1.2.5.1.3 "><p id="p48751264287"><a name="p48751264287"></a><a name="p48751264287"></a>Json Array of AddonTemplate String.</p>
</td>
<td class="cellrowborder" valign="top" width="39.39393939393939%" headers="mcps1.2.5.1.4 "><p id="p1787552617289"><a name="p1787552617289"></a><a name="p1787552617289"></a>集群待安装的插件。若不设置，kubernetes 1.13及以下版本的集群默认安装CoreDNS、storage-driver插件，kubernetes 1.15及以上版本的集群默认安装CoreDNS、everest、npd，详情请参见<a href="#table4786911112911">表2</a>。</p>
</td>
</tr>
</tbody>
</table>

**表 2**  AddonTemplate字段数据结构说明

<a name="table4786911112911"></a>
<table><thead align="left"><tr id="row3890311192910"><th class="cellrowborder" valign="top" width="24.59%" id="mcps1.2.5.1.1"><p id="p133361347204415"><a name="p133361347204415"></a><a name="p133361347204415"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="12.139999999999999%" id="mcps1.2.5.1.2"><p id="p633710478443"><a name="p633710478443"></a><a name="p633710478443"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="14.29%" id="mcps1.2.5.1.3"><p id="p2337247114410"><a name="p2337247114410"></a><a name="p2337247114410"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="48.980000000000004%" id="mcps1.2.5.1.4"><p id="p3337144734418"><a name="p3337144734418"></a><a name="p3337144734418"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row6890611152916"><td class="cellrowborder" valign="top" width="24.59%" headers="mcps1.2.5.1.1 "><p id="p9890511122910"><a name="p9890511122910"></a><a name="p9890511122910"></a>addonTemplateName</p>
</td>
<td class="cellrowborder" valign="top" width="12.139999999999999%" headers="mcps1.2.5.1.2 "><p id="p16890101118298"><a name="p16890101118298"></a><a name="p16890101118298"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="14.29%" headers="mcps1.2.5.1.3 "><p id="p28908113290"><a name="p28908113290"></a><a name="p28908113290"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="48.980000000000004%" headers="mcps1.2.5.1.4 "><p id="p1289015113291"><a name="p1289015113291"></a><a name="p1289015113291"></a>插件名。</p>
<p id="p15001043145016"><a name="p15001043145016"></a><a name="p15001043145016"></a>取值为：coredns、autoscaler、gpu-beta、storage-driver</p>
</td>
</tr>
<tr id="row108901311102919"><td class="cellrowborder" valign="top" width="24.59%" headers="mcps1.2.5.1.1 "><p id="p48904116294"><a name="p48904116294"></a><a name="p48904116294"></a>version</p>
</td>
<td class="cellrowborder" valign="top" width="12.139999999999999%" headers="mcps1.2.5.1.2 "><p id="p1889061152910"><a name="p1889061152910"></a><a name="p1889061152910"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="14.29%" headers="mcps1.2.5.1.3 "><p id="p11890711182918"><a name="p11890711182918"></a><a name="p11890711182918"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="48.980000000000004%" headers="mcps1.2.5.1.4 "><p id="p265526101614"><a name="p265526101614"></a><a name="p265526101614"></a>插件版本。</p>
<p id="p12640223181519"><a name="p12640223181519"></a><a name="p12640223181519"></a>可登录CCE控制台，在“插件管理”中单击插件名称，在插件详情页面的“版本记录”页签中查看。若不配置，默认使用最新版本。</p>
</td>
</tr>
<tr id="row1089020118294"><td class="cellrowborder" valign="top" width="24.59%" headers="mcps1.2.5.1.1 "><p id="p19890131162918"><a name="p19890131162918"></a><a name="p19890131162918"></a>values</p>
</td>
<td class="cellrowborder" valign="top" width="12.139999999999999%" headers="mcps1.2.5.1.2 "><p id="p18908119290"><a name="p18908119290"></a><a name="p18908119290"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="14.29%" headers="mcps1.2.5.1.3 "><p id="p168911711142911"><a name="p168911711142911"></a><a name="p168911711142911"></a>Json Map</p>
</td>
<td class="cellrowborder" valign="top" width="48.980000000000004%" headers="mcps1.2.5.1.4 "><p id="p10373170131818"><a name="p10373170131818"></a><a name="p10373170131818"></a>安装插件所需设置的参数。</p>
<a name="ul9428125610397"></a><a name="ul9428125610397"></a><ul id="ul9428125610397"><li>CoreDNS：请参见 <a href="#table19886153710294">表3</a>.</li><li>AutoScaler：请参见<a href="#table98122239350">表7</a>。</li><li>GPU-beta：请参见<a href="#table122007493360">表9</a>。</li></ul>
<div class="note" id="note1155195781815"><a name="note1155195781815"></a><a name="note1155195781815"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p1455145717188"><a name="p1455145717188"></a><a name="p1455145717188"></a>安装storage-driver插件不需要设置此参数。</p>
</div></div>
</td>
</tr>
</tbody>
</table>

**表 3**  coredns values参数特殊键值对

<a name="table19886153710294"></a>
<table><thead align="left"><tr id="row9976113714291"><th class="cellrowborder" valign="top" width="20.2020202020202%" id="mcps1.2.5.1.1"><p id="p1829884314413"><a name="p1829884314413"></a><a name="p1829884314413"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="13.13131313131313%" id="mcps1.2.5.1.2"><p id="p1229819439440"><a name="p1229819439440"></a><a name="p1229819439440"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="22.22222222222222%" id="mcps1.2.5.1.3"><p id="p19298543184414"><a name="p19298543184414"></a><a name="p19298543184414"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="44.44444444444444%" id="mcps1.2.5.1.4"><p id="p1299743204418"><a name="p1299743204418"></a><a name="p1299743204418"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row17976133717293"><td class="cellrowborder" valign="top" width="20.2020202020202%" headers="mcps1.2.5.1.1 "><p id="p16977133710293"><a name="p16977133710293"></a><a name="p16977133710293"></a>flavor</p>
</td>
<td class="cellrowborder" valign="top" width="13.13131313131313%" headers="mcps1.2.5.1.2 "><p id="p9977153742914"><a name="p9977153742914"></a><a name="p9977153742914"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="22.22222222222222%" headers="mcps1.2.5.1.3 "><p id="p1297753719291"><a name="p1297753719291"></a><a name="p1297753719291"></a><a href="#table744102514314">flavor</a> oject</p>
</td>
<td class="cellrowborder" valign="top" width="44.44444444444444%" headers="mcps1.2.5.1.4 "><p id="p13977203718299"><a name="p13977203718299"></a><a name="p13977203718299"></a>插件规格。</p>
</td>
</tr>
<tr id="row19779374296"><td class="cellrowborder" valign="top" width="20.2020202020202%" headers="mcps1.2.5.1.1 "><p id="p1797716375294"><a name="p1797716375294"></a><a name="p1797716375294"></a>custom</p>
</td>
<td class="cellrowborder" valign="top" width="13.13131313131313%" headers="mcps1.2.5.1.2 "><p id="p8977113712294"><a name="p8977113712294"></a><a name="p8977113712294"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="22.22222222222222%" headers="mcps1.2.5.1.3 "><p id="p15977123719294"><a name="p15977123719294"></a><a name="p15977123719294"></a><a href="#table761152519343">custom</a> object</p>
</td>
<td class="cellrowborder" valign="top" width="44.44444444444444%" headers="mcps1.2.5.1.4 "><p id="p109771237162910"><a name="p109771237162910"></a><a name="p109771237162910"></a>CoreDNS自定义参数。</p>
</td>
</tr>
</tbody>
</table>

**表 4**  flavor字段数据结构说明

<a name="table744102514314"></a>
<table><thead align="left"><tr id="row11155182583117"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p10506163314441"><a name="p10506163314441"></a><a name="p10506163314441"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="13%" id="mcps1.2.5.1.2"><p id="p750633312446"><a name="p750633312446"></a><a name="p750633312446"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="18%" id="mcps1.2.5.1.3"><p id="p250653313443"><a name="p250653313443"></a><a name="p250653313443"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="49%" id="mcps1.2.5.1.4"><p id="p13506143354416"><a name="p13506143354416"></a><a name="p13506143354416"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row8155525143118"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p815514251311"><a name="p815514251311"></a><a name="p815514251311"></a>description</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p215532516319"><a name="p215532516319"></a><a name="p215532516319"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p201551725153113"><a name="p201551725153113"></a><a name="p201551725153113"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p14616191572610"><a name="p14616191572610"></a><a name="p14616191572610"></a>规格的描述信息</p>
</td>
</tr>
<tr id="row181557254317"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1415512515317"><a name="p1415512515317"></a><a name="p1415512515317"></a>name</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p1155162533118"><a name="p1155162533118"></a><a name="p1155162533118"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p141558251311"><a name="p141558251311"></a><a name="p141558251311"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p1415519255312"><a name="p1415519255312"></a><a name="p1415519255312"></a>flavor名称</p>
</td>
</tr>
<tr id="row14155182520316"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1115510256317"><a name="p1115510256317"></a><a name="p1115510256317"></a>replicas</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p31550259310"><a name="p31550259310"></a><a name="p31550259310"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p7155425123118"><a name="p7155425123118"></a><a name="p7155425123118"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p8155192533115"><a name="p8155192533115"></a><a name="p8155192533115"></a>实例数</p>
</td>
</tr>
<tr id="row19155125133114"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p8155725153118"><a name="p8155725153118"></a><a name="p8155725153118"></a>resources</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p315562553119"><a name="p315562553119"></a><a name="p315562553119"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p13156102520318"><a name="p13156102520318"></a><a name="p13156102520318"></a><a href="#table19935820113211">resource</a> object</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p2156182516313"><a name="p2156182516313"></a><a name="p2156182516313"></a>插件资源</p>
</td>
</tr>
</tbody>
</table>

**表 5**  resource字段数据结构说明

<a name="table19935820113211"></a>
<table><thead align="left"><tr id="row1945102173220"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p8687530184417"><a name="p8687530184417"></a><a name="p8687530184417"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="13%" id="mcps1.2.5.1.2"><p id="p1687330174410"><a name="p1687330174410"></a><a name="p1687330174410"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="17.98%" id="mcps1.2.5.1.3"><p id="p15688730134413"><a name="p15688730134413"></a><a name="p15688730134413"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="49.02%" id="mcps1.2.5.1.4"><p id="p13688230164411"><a name="p13688230164411"></a><a name="p13688230164411"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row114532143218"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p204562112329"><a name="p204562112329"></a><a name="p204562112329"></a>name</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p445102163217"><a name="p445102163217"></a><a name="p445102163217"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="17.98%" headers="mcps1.2.5.1.3 "><p id="p845152163219"><a name="p845152163219"></a><a name="p845152163219"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="49.02%" headers="mcps1.2.5.1.4 "><p id="p8453214329"><a name="p8453214329"></a><a name="p8453214329"></a>资源名称</p>
</td>
</tr>
<tr id="row1945721143219"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1245202123215"><a name="p1245202123215"></a><a name="p1245202123215"></a>limitsCpu</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p1245172113211"><a name="p1245172113211"></a><a name="p1245172113211"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="17.98%" headers="mcps1.2.5.1.3 "><p id="p245121103217"><a name="p245121103217"></a><a name="p245121103217"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="49.02%" headers="mcps1.2.5.1.4 "><p id="p154517215326"><a name="p154517215326"></a><a name="p154517215326"></a>CPU配额限制</p>
</td>
</tr>
<tr id="row10451421123213"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p045921103216"><a name="p045921103216"></a><a name="p045921103216"></a>limitsMem</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p19451821163217"><a name="p19451821163217"></a><a name="p19451821163217"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="17.98%" headers="mcps1.2.5.1.3 "><p id="p646142123213"><a name="p646142123213"></a><a name="p646142123213"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="49.02%" headers="mcps1.2.5.1.4 "><p id="p124616219326"><a name="p124616219326"></a><a name="p124616219326"></a>内存配额限制</p>
</td>
</tr>
<tr id="row1946152117326"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p84632123211"><a name="p84632123211"></a><a name="p84632123211"></a>requestsCpu</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p144622118326"><a name="p144622118326"></a><a name="p144622118326"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="17.98%" headers="mcps1.2.5.1.3 "><p id="p546172123215"><a name="p546172123215"></a><a name="p546172123215"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="49.02%" headers="mcps1.2.5.1.4 "><p id="p18465214328"><a name="p18465214328"></a><a name="p18465214328"></a>CPU申请的配额</p>
</td>
</tr>
<tr id="row204615216324"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p646202117324"><a name="p646202117324"></a><a name="p646202117324"></a>requestsMem</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p164662117322"><a name="p164662117322"></a><a name="p164662117322"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="17.98%" headers="mcps1.2.5.1.3 "><p id="p44622112321"><a name="p44622112321"></a><a name="p44622112321"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="49.02%" headers="mcps1.2.5.1.4 "><p id="p546152153216"><a name="p546152153216"></a><a name="p546152153216"></a>内存申请的配额</p>
</td>
</tr>
</tbody>
</table>

**表 6**  custom字段数据结构说明

<a name="table761152519343"></a>
<table><thead align="left"><tr id="row3715122563414"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p5515142716441"><a name="p5515142716441"></a><a name="p5515142716441"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="13%" id="mcps1.2.5.1.2"><p id="p55152027184411"><a name="p55152027184411"></a><a name="p55152027184411"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="18.02%" id="mcps1.2.5.1.3"><p id="p1451632744419"><a name="p1451632744419"></a><a name="p1451632744419"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="48.980000000000004%" id="mcps1.2.5.1.4"><p id="p13516172718440"><a name="p13516172718440"></a><a name="p13516172718440"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1671552503417"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p7715325163419"><a name="p7715325163419"></a><a name="p7715325163419"></a>stub_domains</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p197153259343"><a name="p197153259343"></a><a name="p197153259343"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="18.02%" headers="mcps1.2.5.1.3 "><p id="p1671642513413"><a name="p1671642513413"></a><a name="p1671642513413"></a>Json Map</p>
</td>
<td class="cellrowborder" valign="top" width="48.980000000000004%" headers="mcps1.2.5.1.4 "><p id="p1371672553419"><a name="p1371672553419"></a><a name="p1371672553419"></a>使用DNS后缀键（如acme.local）以及由DNS IP的JSON数组组成的值的JSON map</p>
</td>
</tr>
<tr id="row2716182513416"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p9716925133414"><a name="p9716925133414"></a><a name="p9716925133414"></a>upstream_nameservers</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p27167259342"><a name="p27167259342"></a><a name="p27167259342"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="18.02%" headers="mcps1.2.5.1.3 "><p id="p5716625133414"><a name="p5716625133414"></a><a name="p5716625133414"></a>Json Array</p>
</td>
<td class="cellrowborder" valign="top" width="48.980000000000004%" headers="mcps1.2.5.1.4 "><p id="p11716192503416"><a name="p11716192503416"></a><a name="p11716192503416"></a>设置后，该指将替换默认情况下从节点/etc/resolv.conf获取的名称服务器。限制：可以指定最多3个上行名称服务器。</p>
</td>
</tr>
<tr id="row179412431425"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p4942543114211"><a name="p4942543114211"></a><a name="p4942543114211"></a>tenant_id</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p199421643184210"><a name="p199421643184210"></a><a name="p199421643184210"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18.02%" headers="mcps1.2.5.1.3 "><p id="p394213437424"><a name="p394213437424"></a><a name="p394213437424"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="48.980000000000004%" headers="mcps1.2.5.1.4 "><p id="p3942144314216"><a name="p3942144314216"></a><a name="p3942144314216"></a>项目ID</p>
</td>
</tr>
</tbody>
</table>

**表 7**  AutoScaler values参数特殊键值对

<a name="table98122239350"></a>
<table><thead align="left"><tr id="row14910423113514"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p65691245442"><a name="p65691245442"></a><a name="p65691245442"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="13%" id="mcps1.2.5.1.2"><p id="p2569182413446"><a name="p2569182413446"></a><a name="p2569182413446"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="18%" id="mcps1.2.5.1.3"><p id="p756912420448"><a name="p756912420448"></a><a name="p756912420448"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="49%" id="mcps1.2.5.1.4"><p id="p9569152420449"><a name="p9569152420449"></a><a name="p9569152420449"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row179108234356"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p199109235354"><a name="p199109235354"></a><a name="p199109235354"></a>flavor</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p991016238351"><a name="p991016238351"></a><a name="p991016238351"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p119101923183510"><a name="p119101923183510"></a><a name="p119101923183510"></a><a href="#table744102514314">flavor</a> Object</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p39103231357"><a name="p39103231357"></a><a name="p39103231357"></a>插件规格</p>
</td>
</tr>
<tr id="row179102231353"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1991016238357"><a name="p1991016238357"></a><a name="p1991016238357"></a>custom</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p9910192313514"><a name="p9910192313514"></a><a name="p9910192313514"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p1591012231355"><a name="p1591012231355"></a><a name="p1591012231355"></a><a href="#table169174515359">custom</a> object</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p791013234357"><a name="p791013234357"></a><a name="p791013234357"></a>Autoscaler自定义参数</p>
</td>
</tr>
</tbody>
</table>

**表 8**  custom字段数据结构说明

<a name="table169174515359"></a>
<table><thead align="left"><tr id="row42461045103514"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p02751322124420"><a name="p02751322124420"></a><a name="p02751322124420"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="13%" id="mcps1.2.5.1.2"><p id="p52753226447"><a name="p52753226447"></a><a name="p52753226447"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="18%" id="mcps1.2.5.1.3"><p id="p192755225442"><a name="p192755225442"></a><a name="p192755225442"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="49%" id="mcps1.2.5.1.4"><p id="p1527592294410"><a name="p1527592294410"></a><a name="p1527592294410"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1424764523515"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p15247194514352"><a name="p15247194514352"></a><a name="p15247194514352"></a>coresTotal</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p1324704553513"><a name="p1324704553513"></a><a name="p1324704553513"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p024764563518"><a name="p024764563518"></a><a name="p024764563518"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p66947415171"><a name="p66947415171"></a><a name="p66947415171"></a>集群最大和最小核数，格式为&lt;min&gt;:&lt;max&gt;。autoscaler进行集群扩缩容时不会超过这个范围</p>
</td>
</tr>
<tr id="row124710454355"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p102473456353"><a name="p102473456353"></a><a name="p102473456353"></a>maxEmptyBulkDeleteFlag</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p1424764519352"><a name="p1424764519352"></a><a name="p1424764519352"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p1247114512353"><a name="p1247114512353"></a><a name="p1247114512353"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p97562015111712"><a name="p97562015111712"></a><a name="p97562015111712"></a>可同时删除的最大空节点数</p>
</td>
</tr>
<tr id="row11247174511359"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p14247545123519"><a name="p14247545123519"></a><a name="p14247545123519"></a>maxNodesTotal</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p4247184573514"><a name="p4247184573514"></a><a name="p4247184573514"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p824794514355"><a name="p824794514355"></a><a name="p824794514355"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p95421032151718"><a name="p95421032151718"></a><a name="p95421032151718"></a>所有节点组里的最大节点数。autoscaler进行集群扩缩容时不会超过这个范围</p>
</td>
</tr>
<tr id="row172471453354"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p5247945193511"><a name="p5247945193511"></a><a name="p5247945193511"></a>memoryTotal</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p1247045113519"><a name="p1247045113519"></a><a name="p1247045113519"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p1524734516353"><a name="p1524734516353"></a><a name="p1524734516353"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p36791145141711"><a name="p36791145141711"></a><a name="p36791145141711"></a>集群内存的最大和最小数，格式为&lt;min&gt;:&lt;max&gt;。autoscaler进行集群扩缩容时不会超过这个范围</p>
</td>
</tr>
<tr id="row1724714457352"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p5247164512355"><a name="p5247164512355"></a><a name="p5247164512355"></a>scaleDownDelayAfterAdd</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p1824724512356"><a name="p1824724512356"></a><a name="p1824724512356"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p82474455355"><a name="p82474455355"></a><a name="p82474455355"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p1624711457351"><a name="p1624711457351"></a><a name="p1624711457351"></a>扩容后再次进行缩容评估的时间间隔</p>
</td>
</tr>
<tr id="row1924711456354"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p142472045163518"><a name="p142472045163518"></a><a name="p142472045163518"></a>scaleDownDelayAfterDelete</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p224710459354"><a name="p224710459354"></a><a name="p224710459354"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p3247154519350"><a name="p3247154519350"></a><a name="p3247154519350"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p172471945113514"><a name="p172471945113514"></a><a name="p172471945113514"></a>删除节点后再次进行缩容评估的时间间隔，默认值为scanInterval</p>
</td>
</tr>
<tr id="row102481845173516"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1324811450353"><a name="p1324811450353"></a><a name="p1324811450353"></a>scaleDownDelayAfterFailure</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p102481745183511"><a name="p102481745183511"></a><a name="p102481745183511"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p142481145123515"><a name="p142481145123515"></a><a name="p142481145123515"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p102481645123510"><a name="p102481645123510"></a><a name="p102481645123510"></a>缩容失败后再次进行缩容评估的时间间隔</p>
</td>
</tr>
<tr id="row1424813457357"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p82481045193512"><a name="p82481045193512"></a><a name="p82481045193512"></a>scaleDownEnabled</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p4248184553516"><a name="p4248184553516"></a><a name="p4248184553516"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p024854553518"><a name="p024854553518"></a><a name="p024854553518"></a>Boolean</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p978013118185"><a name="p978013118185"></a><a name="p978013118185"></a>是否启用集群缩容</p>
</td>
</tr>
<tr id="row11248164583519"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p72487456352"><a name="p72487456352"></a><a name="p72487456352"></a>scaleDownUnneededTime</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p824844513354"><a name="p824844513354"></a><a name="p824844513354"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p1224804516352"><a name="p1224804516352"></a><a name="p1224804516352"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p15248045153519"><a name="p15248045153519"></a><a name="p15248045153519"></a>节点在达到缩容条件之后，需要等待多长时间才进行缩容</p>
</td>
</tr>
<tr id="row16248845113511"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p14248124513350"><a name="p14248124513350"></a><a name="p14248124513350"></a>scaleDownUtilizationThreshold</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p2024884523518"><a name="p2024884523518"></a><a name="p2024884523518"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p224819450358"><a name="p224819450358"></a><a name="p224819450358"></a>Float</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p17248164512358"><a name="p17248164512358"></a><a name="p17248164512358"></a>运行在该节点上的所有实例的CPU或内存总和占该节点可分配资源的比例。实际比例低于该阈值时，触发节点缩容</p>
</td>
</tr>
<tr id="row1524814456357"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p142481745123519"><a name="p142481745123519"></a><a name="p142481745123519"></a>scaleUpCpuUtilizationThreshold</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p124812455354"><a name="p124812455354"></a><a name="p124812455354"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p192481745133520"><a name="p192481745133520"></a><a name="p192481745133520"></a>Float</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p152483459354"><a name="p152483459354"></a><a name="p152483459354"></a>触发扩容的CPU使用率阈值</p>
</td>
</tr>
<tr id="row102482454352"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p924864517351"><a name="p924864517351"></a><a name="p924864517351"></a>scaleUpMemUtilizationThreshold</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p5248184515350"><a name="p5248184515350"></a><a name="p5248184515350"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p192481145123513"><a name="p192481145123513"></a><a name="p192481145123513"></a>Float</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p12248134511359"><a name="p12248134511359"></a><a name="p12248134511359"></a>触发扩容的内存使用率阈值</p>
</td>
</tr>
<tr id="row2248245133520"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1424834563512"><a name="p1424834563512"></a><a name="p1424834563512"></a>scaleUpUnscheduledPodEnabled</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p1724974513354"><a name="p1724974513354"></a><a name="p1724974513354"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p1724944553518"><a name="p1724944553518"></a><a name="p1724944553518"></a>Boolean</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p152492045203514"><a name="p152492045203514"></a><a name="p152492045203514"></a>存在未调度的实例时触发扩容</p>
</td>
</tr>
<tr id="row15249164513513"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p7249145173516"><a name="p7249145173516"></a><a name="p7249145173516"></a>scaleUpUtilizationEnabled</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p4249114512357"><a name="p4249114512357"></a><a name="p4249114512357"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p22497458353"><a name="p22497458353"></a><a name="p22497458353"></a>Boolean</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p62491045133515"><a name="p62491045133515"></a><a name="p62491045133515"></a>达到资源利用率阈值时触发扩容</p>
</td>
</tr>
<tr id="row424915456356"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1724964543517"><a name="p1724964543517"></a><a name="p1724964543517"></a>tenant_id</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p19249445153519"><a name="p19249445153519"></a><a name="p19249445153519"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p2249645143515"><a name="p2249645143515"></a><a name="p2249645143515"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p17249345183516"><a name="p17249345183516"></a><a name="p17249345183516"></a>项目ID</p>
</td>
</tr>
<tr id="row1249134515358"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p14249345133512"><a name="p14249345133512"></a><a name="p14249345133512"></a>unremovableNodeRecheckTimeout</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p724917458357"><a name="p724917458357"></a><a name="p724917458357"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p1524954512350"><a name="p1524954512350"></a><a name="p1524954512350"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p4249745133516"><a name="p4249745133516"></a><a name="p4249745133516"></a>两次确认某节点是否能被移除的时间间隔</p>
</td>
</tr>
</tbody>
</table>

**表 9**  gpu-beta values参数特殊键值对

<a name="table122007493360"></a>
<table><thead align="left"><tr id="row934174913614"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p155621716104416"><a name="p155621716104416"></a><a name="p155621716104416"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="13%" id="mcps1.2.5.1.2"><p id="p16562111654411"><a name="p16562111654411"></a><a name="p16562111654411"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="18%" id="mcps1.2.5.1.3"><p id="p1456211664411"><a name="p1456211664411"></a><a name="p1456211664411"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="49%" id="mcps1.2.5.1.4"><p id="p1356291674418"><a name="p1356291674418"></a><a name="p1356291674418"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row173411149183610"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1734114499362"><a name="p1734114499362"></a><a name="p1734114499362"></a>custom</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p634184933618"><a name="p634184933618"></a><a name="p634184933618"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p11341249183613"><a name="p11341249183613"></a><a name="p11341249183613"></a><a href="#table940441113713">custom</a> object</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p133412491364"><a name="p133412491364"></a><a name="p133412491364"></a>gpu-beta自定义参数</p>
</td>
</tr>
</tbody>
</table>

**表 10**  custom字段数据结构说明

<a name="table940441113713"></a>
<table><thead align="left"><tr id="row45671411123717"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p4214181316441"><a name="p4214181316441"></a><a name="p4214181316441"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="13%" id="mcps1.2.5.1.2"><p id="p62141313204415"><a name="p62141313204415"></a><a name="p62141313204415"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="18%" id="mcps1.2.5.1.3"><p id="p192141313164410"><a name="p192141313164410"></a><a name="p192141313164410"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="49%" id="mcps1.2.5.1.4"><p id="p9214121384419"><a name="p9214121384419"></a><a name="p9214121384419"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1256818112370"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p145683119373"><a name="p145683119373"></a><a name="p145683119373"></a>is_driver_from_nvidia</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p13568141163713"><a name="p13568141163713"></a><a name="p13568141163713"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p1556815114374"><a name="p1556815114374"></a><a name="p1556815114374"></a>Boolean</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p1252614346205"><a name="p1252614346205"></a><a name="p1252614346205"></a>是否使用英伟达驱动。</p>
<p id="p95680111373"><a name="p95680111373"></a><a name="p95680111373"></a>设置为true</p>
</td>
</tr>
<tr id="row05687116378"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p4568111143714"><a name="p4568111143714"></a><a name="p4568111143714"></a>nvidia_driver_download_url</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.2 "><p id="p7568311193711"><a name="p7568311193711"></a><a name="p7568311193711"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.3 "><p id="p556891193720"><a name="p556891193720"></a><a name="p556891193720"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="49%" headers="mcps1.2.5.1.4 "><p id="p956815116373"><a name="p956815116373"></a><a name="p956815116373"></a>驱动下载URL</p>
</td>
</tr>
</tbody>
</table>

**表 11**  spec字段数据结构说明

<a name="table1034041612134"></a>
<table><thead align="left"><tr id="row14348121616132"><th class="cellrowborder" valign="top" width="20.202020202020204%" id="mcps1.2.5.1.1"><p id="p133505167139"><a name="p133505167139"></a><a name="p133505167139"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="13.131313131313133%" id="mcps1.2.5.1.2"><p id="p6353201611319"><a name="p6353201611319"></a><a name="p6353201611319"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="18.434343434343432%" id="mcps1.2.5.1.3"><p id="p735501615139"><a name="p735501615139"></a><a name="p735501615139"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="48.23232323232323%" id="mcps1.2.5.1.4"><p id="p15357151631311"><a name="p15357151631311"></a><a name="p15357151631311"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row178365271483"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.5.1.1 "><p id="p146521540191916"><a name="p146521540191916"></a><a name="p146521540191916"></a>type</p>
</td>
<td class="cellrowborder" valign="top" width="13.131313131313133%" headers="mcps1.2.5.1.2 "><p id="p202632127"><a name="p202632127"></a><a name="p202632127"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18.434343434343432%" headers="mcps1.2.5.1.3 "><p id="p1052510179227"><a name="p1052510179227"></a><a name="p1052510179227"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="48.23232323232323%" headers="mcps1.2.5.1.4 "><p id="p1691385774411"><a name="p1691385774411"></a><a name="p1691385774411"></a>集群类型：</p>
<a name="ul123801520452"></a><a name="ul123801520452"></a><ul id="ul123801520452"><li>VirtualMachine：混合集群<p id="p138192583535"><a name="p138192583535"></a><a name="p138192583535"></a>混合集群基于Kubernetes来管理一组节点资源，支持虚拟机和裸金属的管理，Kubernetes将自动调度容器运行在可用节点上。在创建容器工作负载前，您需要存在一个可用集群。</p>
</li><li>ARM64：鲲鹏集群<p id="p1564711129592"><a name="p1564711129592"></a><a name="p1564711129592"></a>鲲鹏容器集群（ARM指令集）提供了容器在鲲鹏（ARM架构）服务器上的运行能力，提供与X86服务器相同的调度伸缩和快速部署能力。</p>
</li></ul>
</td>
</tr>
<tr id="row13359916111318"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.5.1.1 "><p id="p3652164071919"><a name="p3652164071919"></a><a name="p3652164071919"></a>flavor</p>
</td>
<td class="cellrowborder" valign="top" width="13.131313131313133%" headers="mcps1.2.5.1.2 "><p id="p436391616131"><a name="p436391616131"></a><a name="p436391616131"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18.434343434343432%" headers="mcps1.2.5.1.3 "><p id="p1052581712215"><a name="p1052581712215"></a><a name="p1052581712215"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="48.23232323232323%" headers="mcps1.2.5.1.4 "><p id="p13179847183012"><a name="p13179847183012"></a><a name="p13179847183012"></a>集群规格，集群创建完成后规格不可再变更，请按实际业务需求进行选择。</p>
<a name="ul161871223185413"></a><a name="ul161871223185413"></a><ul id="ul161871223185413"><li>cce.s1.small: 小规模单控制节点混合集群（最大50节点）</li><li>cce.s1.medium: 中等规模单控制节点混合集群（最大200节点）</li><li>cce.s1.large: 大规模单控制节点混合集群（最大1000节点）</li><li>cce.s2.small: 小规模高可用混合集群（最大50节点）</li><li>cce.s2.medium: 中等规模高可用混合集群（最大200节点）</li><li>cce.s2.large: 大规模高可用混合集群（最大1000节点）</li></ul>
<div class="note" id="note1931253319542"><a name="note1931253319542"></a><a name="note1931253319542"></a><span class="notetitle"> 说明： </span><div class="notebody"><a name="ul1238441181917"></a><a name="ul1238441181917"></a><ul id="ul1238441181917"><li>s1：单控制节点混合集群。</li><li>s2：高可用混合集群。</li><li>dec：专属混合集群规格。如cce.dec.s1.small为小规模单控制节点专属混合集群（最大50节点）。</li><li>最大节点数：当前集群支持管理的最大节点规模，请根据业务需求选择。</li><li>单控制节点集群：普通集群是单控制节点，控制节点故障后，集群将不可用，但已运行工作负载不受影响。</li><li>高可用集群：高可用集群是多控制节点，单控制节点故障，集群仍然可用。查看集群模式请参见<a href="https://support.huaweicloud.com/cce_faq/cce_faq_00155.html" target="_blank" rel="noopener noreferrer">如何排查已创建的集群是否为高可用集群？</a> </li></ul>
</div></div>
</td>
</tr>
<tr id="row83711516191317"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.5.1.1 "><p id="p1565217404195"><a name="p1565217404195"></a><a name="p1565217404195"></a>version</p>
</td>
<td class="cellrowborder" valign="top" width="13.131313131313133%" headers="mcps1.2.5.1.2 "><p id="p43761516111313"><a name="p43761516111313"></a><a name="p43761516111313"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="18.434343434343432%" headers="mcps1.2.5.1.3 "><p id="p252511174227"><a name="p252511174227"></a><a name="p252511174227"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="48.23232323232323%" headers="mcps1.2.5.1.4 "><p id="p0929195015409"><a name="p0929195015409"></a><a name="p0929195015409"></a>集群版本，与Kubernetes社区基线版本保持一致，建议选择最新版本。</p>
<a name="ul148721154111"></a><a name="ul148721154111"></a><ul id="ul148721154111"><li>在CCE控制台支持创建两种最新版本的集群。可登录CCE控制台，单击<span class="uicontrol" id="uicontrol2641852194216"><a name="uicontrol2641852194216"></a><a name="uicontrol2641852194216"></a>“总览 &gt; 购买Kubernetes集群”</span>，在<span class="uicontrol" id="uicontrol186465284213"><a name="uicontrol186465284213"></a><a name="uicontrol186465284213"></a>“版本”</span>处获取到集群版本。</li><li>其它集群版本，当前仍可通过api创建，但后续会逐渐下线，具体下线策略请关注CCE官方公告。</li></ul>
<div class="note" id="note19341279382"><a name="note19341279382"></a><a name="note19341279382"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p1993516279385"><a name="p1993516279385"></a><a name="p1993516279385"></a>若不配置，默认创建最新版本的集群。</p>
</div></div>
</td>
</tr>
<tr id="row438141651319"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.5.1.1 "><p id="p1653144010196"><a name="p1653144010196"></a><a name="p1653144010196"></a>description</p>
</td>
<td class="cellrowborder" valign="top" width="13.131313131313133%" headers="mcps1.2.5.1.2 "><p id="p9485133718193"><a name="p9485133718193"></a><a name="p9485133718193"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="18.434343434343432%" headers="mcps1.2.5.1.3 "><p id="p65261417142217"><a name="p65261417142217"></a><a name="p65261417142217"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="48.23232323232323%" headers="mcps1.2.5.1.4 "><p id="p1318113472302"><a name="p1318113472302"></a><a name="p1318113472302"></a>集群描述，对于集群使用目的的描述，可根据实际情况自定义，默认为空。集群创建成功后可通过接口<a href="更新指定的集群.md">更新指定的集群</a>来做出修改，也可在CCE控制台对应集群的<span class="uicontrol" id="uicontrol854817186552"><a name="uicontrol854817186552"></a><a name="uicontrol854817186552"></a>“集群详情”</span>下的<span class="uicontrol" id="uicontrol3552132813556"><a name="uicontrol3552132813556"></a><a name="uicontrol3552132813556"></a>“描述”</span>处进行修改。</p>
</td>
</tr>
<tr id="row997175611108"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.5.1.1 "><p id="p1597125619109"><a name="p1597125619109"></a><a name="p1597125619109"></a>ipv6enable</p>
</td>
<td class="cellrowborder" valign="top" width="13.131313131313133%" headers="mcps1.2.5.1.2 "><p id="p097111568104"><a name="p097111568104"></a><a name="p097111568104"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="18.434343434343432%" headers="mcps1.2.5.1.3 "><p id="p5971155612109"><a name="p5971155612109"></a><a name="p5971155612109"></a>Boolean</p>
</td>
<td class="cellrowborder" valign="top" width="48.23232323232323%" headers="mcps1.2.5.1.4 "><p id="p17971135641011"><a name="p17971135641011"></a><a name="p17971135641011"></a>集群是否支持ipv6。1.15版本及以上支持。</p>
</td>
</tr>
<tr id="row17011947507"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.5.1.1 "><p id="p4701194125011"><a name="p4701194125011"></a><a name="p4701194125011"></a>hostNetwok</p>
</td>
<td class="cellrowborder" valign="top" width="13.131313131313133%" headers="mcps1.2.5.1.2 "><p id="p1570134145017"><a name="p1570134145017"></a><a name="p1570134145017"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18.434343434343432%" headers="mcps1.2.5.1.3 "><p id="p167012042507"><a name="p167012042507"></a><a name="p167012042507"></a><a href="创建集群.md#request_HostNetwork">HostNetwork</a>  object</p>
</td>
<td class="cellrowborder" valign="top" width="48.23232323232323%" headers="mcps1.2.5.1.4 "><p id="p123281848104313"><a name="p123281848104313"></a><a name="p123281848104313"></a>节点网络参数，包含了虚拟私有云VPC和子网的ID信息，而VPC是集群内节点之间的通信依赖，所以是必选的参数集。</p>
</td>
</tr>
<tr id="row651719205217"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.5.1.1 "><p id="p851151955212"><a name="p851151955212"></a><a name="p851151955212"></a>containerNetwork</p>
</td>
<td class="cellrowborder" valign="top" width="13.131313131313133%" headers="mcps1.2.5.1.2 "><p id="p11511019115210"><a name="p11511019115210"></a><a name="p11511019115210"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18.434343434343432%" headers="mcps1.2.5.1.3 "><p id="p7514193520"><a name="p7514193520"></a><a name="p7514193520"></a><a href="创建集群.md#request_ContainerNetwork">ContainerNetwork</a> object</p>
</td>
<td class="cellrowborder" valign="top" width="48.23232323232323%" headers="mcps1.2.5.1.4 "><p id="p16930187201117"><a name="p16930187201117"></a><a name="p16930187201117"></a>容器网络参数，包含了容器网络类型和容器网段的信息。</p>
</td>
</tr>
<tr id="row3796424613"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.5.1.1 "><p id="p679618210619"><a name="p679618210619"></a><a name="p679618210619"></a><span>authentication</span></p>
</td>
<td class="cellrowborder" valign="top" width="13.131313131313133%" headers="mcps1.2.5.1.2 "><p id="p17961521569"><a name="p17961521569"></a><a name="p17961521569"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="18.434343434343432%" headers="mcps1.2.5.1.3 "><p id="p37971720612"><a name="p37971720612"></a><a name="p37971720612"></a><a href="创建集群.md#request_Authentication">Authentication</a> object</p>
</td>
<td class="cellrowborder" valign="top" width="48.23232323232323%" headers="mcps1.2.5.1.4 "><p id="p4797327611"><a name="p4797327611"></a><a name="p4797327611"></a><span>集群认证方式相关配置</span>。</p>
</td>
</tr>
<tr id="row97803915130"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.5.1.1 "><p id="p156284113136"><a name="p156284113136"></a><a name="p156284113136"></a>kubernetesSvcIpRange</p>
</td>
<td class="cellrowborder" valign="top" width="13.131313131313133%" headers="mcps1.2.5.1.2 "><p id="p8782169151311"><a name="p8782169151311"></a><a name="p8782169151311"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="18.434343434343432%" headers="mcps1.2.5.1.3 "><p id="p0703163016251"><a name="p0703163016251"></a><a name="p0703163016251"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="48.23232323232323%" headers="mcps1.2.5.1.4 "><p id="p7782199181315"><a name="p7782199181315"></a><a name="p7782199181315"></a>服务网段参数，kubernetes clusterIp取值范围，1.11.7版本及以上支持。</p>
</td>
</tr>
<tr id="row1738915162138"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.5.1.1 "><p id="p1765204051918"><a name="p1765204051918"></a><a name="p1765204051918"></a>billingMode</p>
</td>
<td class="cellrowborder" valign="top" width="13.131313131313133%" headers="mcps1.2.5.1.2 "><p id="p18393616131319"><a name="p18393616131319"></a><a name="p18393616131319"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="18.434343434343432%" headers="mcps1.2.5.1.3 "><p id="p2716174518128"><a name="p2716174518128"></a><a name="p2716174518128"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="48.23232323232323%" headers="mcps1.2.5.1.4 "><p id="p142021320316"><a name="p142021320316"></a><a name="p142021320316"></a>集群的计费方式，当前接口只支持创建<span class="uicontrol" id="uicontrol2799155314015"><a name="uicontrol2799155314015"></a><a name="uicontrol2799155314015"></a>“按需计费”</span>的集群。</p>
<p id="p14728102010568"><a name="p14728102010568"></a><a name="p14728102010568"></a>计费方式为<span class="uicontrol" id="uicontrol1845211361318"><a name="uicontrol1845211361318"></a><a name="uicontrol1845211361318"></a>“按需计费”</span>时，取值为“0”。若不填，则默认为“0”。</p>
</td>
</tr>
<tr id="row165961024192913"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.5.1.1 "><p id="p1259762419292"><a name="p1259762419292"></a><a name="p1259762419292"></a>masters</p>
</td>
<td class="cellrowborder" valign="top" width="13.131313131313133%" headers="mcps1.2.5.1.2 "><p id="p115973245293"><a name="p115973245293"></a><a name="p115973245293"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="18.434343434343432%" headers="mcps1.2.5.1.3 "><p id="p536919463292"><a name="p536919463292"></a><a name="p536919463292"></a><a href="创建集群.md#request_MasterSpec">MasterSpec</a>  object</p>
</td>
<td class="cellrowborder" valign="top" width="48.23232323232323%" headers="mcps1.2.5.1.4 "><p id="p31775712912"><a name="p31775712912"></a><a name="p31775712912"></a>控制节点的高级配置</p>
</td>
</tr>
<tr id="row115158303222"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.5.1.1 "><p id="p18515730192217"><a name="p18515730192217"></a><a name="p18515730192217"></a>extendParam</p>
</td>
<td class="cellrowborder" valign="top" width="13.131313131313133%" headers="mcps1.2.5.1.2 "><p id="p135153304225"><a name="p135153304225"></a><a name="p135153304225"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="18.434343434343432%" headers="mcps1.2.5.1.3 "><p id="p6315541863"><a name="p6315541863"></a><a name="p6315541863"></a>Map&lt;String,String&gt;</p>
</td>
<td class="cellrowborder" valign="top" width="48.23232323232323%" headers="mcps1.2.5.1.4 "><p id="p218104711307"><a name="p218104711307"></a><a name="p218104711307"></a>扩展字段，key/value对格式。</p>
<p id="p18239164281919"><a name="p18239164281919"></a><a name="p18239164281919"></a>可配置多可用区集群、专属混合集群，以及将集群创建在特定的企业项目下。</p>
</td>
</tr>
</tbody>
</table>

## 请求示例<a name="section7901013145510"></a>

```
{
  "kind" : "Cluster",
  "apiVersion" : "v3",
  "metadata" : {
    "name" : "mycluster",
    "labels" : {
      "foo" : "bar"
    },
    "annotations" : {
      "cluster.install.addons/install" : "[{\"addonTemplateName\":\"autoscaler\",\"version\":\"1.15.11\",\"values\":{\"flavor\":{\"description\":\"Has only one instance\",\"name\":\"Single\",\"replicas\":1,\"resources\":[{\"limitsCpu\":\"90m\",\"limitsMem\":\"200Mi\",\"name\":\"autoscaler\",\"requestsCpu\":\"50m\",\"requestsMem\":\"100Mi\"}]},\"custom\":{\"coresTotal\":32000,\"maxEmptyBulkDeleteFlag\":10,\"maxNodesTotal\":1000,\"memoryTotal\":128000,\"scaleDownDelayAfterAdd\":10,\"scaleDownDelayAfterDelete\":10,\"scaleDownDelayAfterFailure\":3,\"scaleDownEnabled\":false,\"scaleDownUnneededTime\":10,\"scaleDownUtilizationThreshold\":0.5,\"scaleUpCpuUtilizationThreshold\":1,\"scaleUpMemUtilizationThreshold\":1,\"scaleUpUnscheduledPodEnabled\":true,\"scaleUpUtilizationEnabled\":true,\"tenant_id\":\"22a8a02394794b908d256103a5b63c65\",\"unremovableNodeRecheckTimeout\":5}}},{\"addonTemplateName\":\"coredns\",\"version\":\"1.15.3\",\"values\":{\"flavor\":{\"description\":\"Has two instances\",\"name\":2500,\"replicas\":2,\"resources\":[{\"limitsCpu\":\"500m\",\"limitsMem\":\"512Mi\",\"name\":\"coredns\",\"requestsCpu\":\"500m\",\"requestsMem\":\"512Mi\"}]},\"custom\":{\"stub_domains\":{},\"upstream_nameservers\":[],\"tenant_id\":\"22a8a02394794b908d256103a5b63c65\"}}},{\"addonTemplateName\":\"gpu-beta\",\"version\":\"1.1.7\",\"values\":{\"custom\":{\"is_driver_from_nvidia\":true,\"nvidia_driver_download_url\":\"https://us.download.nvidia.com/tesla/396.37/NVIDIA-Linux-x86_64-396.37.run\"}}},{\"addonTemplateName\":\"storage-driver\",\"version\":\"\"}]"
    }
  },
  "spec" : {
    "type" : "VirtualMachine",
    "flavor" : "cce.s1.small",
    "version" : "v1.15.11",
    "description" : "this is a demo cluster",
    "hostNetwork" : {
      "vpc" : "1cb74d47-8e09-4d14-a065-75f4fc03e5eb",
      "subnet" : "d44c089c-fbdc-49b3-ae8f-7b42c64219cf"
    },
    "containerNetwork" : {
      "mode" : "overlay_l2",
      "cidr" : "172.16.0.0/16"
    },
    "extendParam" : {
      "foo" : "bar"
    }
  }
}
```

